#include <stdio.h>
#include <stdlib.h>
#include "vti.h"

// C64 charset ROM (uppercase-only set disabled)
unsigned char c64fonts[2048/*4096*/] = {
   /*
   0x3c,0x66,0x6e,0x6e,0x60,0x62,0x3c,0x00,0x18,0x3c,0x66,0x7e,0x66,0x66,0x66,0x00,
   0x7c,0x66,0x66,0x7c,0x66,0x66,0x7c,0x00,0x3c,0x66,0x60,0x60,0x60,0x66,0x3c,0x00,
   0x78,0x6c,0x66,0x66,0x66,0x6c,0x78,0x00,0x7e,0x60,0x60,0x78,0x60,0x60,0x7e,0x00,
   0x7e,0x60,0x60,0x78,0x60,0x60,0x60,0x00,0x3c,0x66,0x60,0x6e,0x66,0x66,0x3c,0x00,
   0x66,0x66,0x66,0x7e,0x66,0x66,0x66,0x00,0x3c,0x18,0x18,0x18,0x18,0x18,0x3c,0x00,
   0x1e,0x0c,0x0c,0x0c,0x0c,0x6c,0x38,0x00,0x66,0x6c,0x78,0x70,0x78,0x6c,0x66,0x00,
   0x60,0x60,0x60,0x60,0x60,0x60,0x7e,0x00,0x63,0x77,0x7f,0x6b,0x63,0x63,0x63,0x00,
   0x66,0x76,0x7e,0x7e,0x6e,0x66,0x66,0x00,0x3c,0x66,0x66,0x66,0x66,0x66,0x3c,0x00,
   0x7c,0x66,0x66,0x7c,0x60,0x60,0x60,0x00,0x3c,0x66,0x66,0x66,0x66,0x3c,0x0e,0x00,
   0x7c,0x66,0x66,0x7c,0x78,0x6c,0x66,0x00,0x3c,0x66,0x60,0x3c,0x06,0x66,0x3c,0x00,
   0x7e,0x18,0x18,0x18,0x18,0x18,0x18,0x00,0x66,0x66,0x66,0x66,0x66,0x66,0x3c,0x00,
   0x66,0x66,0x66,0x66,0x66,0x3c,0x18,0x00,0x63,0x63,0x63,0x6b,0x7f,0x77,0x63,0x00,
   0x66,0x66,0x3c,0x18,0x3c,0x66,0x66,0x00,0x66,0x66,0x66,0x3c,0x18,0x18,0x18,0x00,
   0x7e,0x06,0x0c,0x18,0x30,0x60,0x7e,0x00,0x3c,0x30,0x30,0x30,0x30,0x30,0x3c,0x00,
   0x0c,0x12,0x30,0x7c,0x30,0x62,0xfc,0x00,0x3c,0x0c,0x0c,0x0c,0x0c,0x0c,0x3c,0x00,
   0x00,0x18,0x3c,0x7e,0x18,0x18,0x18,0x18,0x00,0x10,0x30,0x7f,0x7f,0x30,0x10,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x18,0x18,0x18,0x18,0x00,0x00,0x18,0x00,
   0x66,0x66,0x66,0x00,0x00,0x00,0x00,0x00,0x66,0x66,0xff,0x66,0xff,0x66,0x66,0x00,
   0x18,0x3e,0x60,0x3c,0x06,0x7c,0x18,0x00,0x62,0x66,0x0c,0x18,0x30,0x66,0x46,0x00,
   0x3c,0x66,0x3c,0x38,0x67,0x66,0x3f,0x00,0x06,0x0c,0x18,0x00,0x00,0x00,0x00,0x00,
   0x0c,0x18,0x30,0x30,0x30,0x18,0x0c,0x00,0x30,0x18,0x0c,0x0c,0x0c,0x18,0x30,0x00,
   0x00,0x66,0x3c,0xff,0x3c,0x66,0x00,0x00,0x00,0x18,0x18,0x7e,0x18,0x18,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x18,0x18,0x30,0x00,0x00,0x00,0x7e,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x18,0x18,0x00,0x00,0x03,0x06,0x0c,0x18,0x30,0x60,0x00,
   0x3c,0x66,0x6e,0x76,0x66,0x66,0x3c,0x00,0x18,0x18,0x38,0x18,0x18,0x18,0x7e,0x00,
   0x3c,0x66,0x06,0x0c,0x30,0x60,0x7e,0x00,0x3c,0x66,0x06,0x1c,0x06,0x66,0x3c,0x00,
   0x06,0x0e,0x1e,0x66,0x7f,0x06,0x06,0x00,0x7e,0x60,0x7c,0x06,0x06,0x66,0x3c,0x00,
   0x3c,0x66,0x60,0x7c,0x66,0x66,0x3c,0x00,0x7e,0x66,0x0c,0x18,0x18,0x18,0x18,0x00,
   0x3c,0x66,0x66,0x3c,0x66,0x66,0x3c,0x00,0x3c,0x66,0x66,0x3e,0x06,0x66,0x3c,0x00,
   0x00,0x00,0x18,0x00,0x00,0x18,0x00,0x00,0x00,0x00,0x18,0x00,0x00,0x18,0x18,0x30,
   0x0e,0x18,0x30,0x60,0x30,0x18,0x0e,0x00,0x00,0x00,0x7e,0x00,0x7e,0x00,0x00,0x00,
   0x70,0x18,0x0c,0x06,0x0c,0x18,0x70,0x00,0x3c,0x66,0x06,0x0c,0x18,0x00,0x18,0x00,
   0x00,0x00,0x00,0xff,0xff,0x00,0x00,0x00,0x08,0x1c,0x3e,0x7f,0x7f,0x1c,0x3e,0x00,
   0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x00,0x00,0x00,0xff,0xff,0x00,0x00,0x00,
   0x00,0x00,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0xff,0xff,0x00,0x00,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,
   0x0c,0x0c,0x0c,0x0c,0x0c,0x0c,0x0c,0x0c,0x00,0x00,0x00,0xe0,0xf0,0x38,0x18,0x18,
   0x18,0x18,0x1c,0x0f,0x07,0x00,0x00,0x00,0x18,0x18,0x38,0xf0,0xe0,0x00,0x00,0x00,
   0xc0,0xc0,0xc0,0xc0,0xc0,0xc0,0xff,0xff,0xc0,0xe0,0x70,0x38,0x1c,0x0e,0x07,0x03,
   0x03,0x07,0x0e,0x1c,0x38,0x70,0xe0,0xc0,0xff,0xff,0xc0,0xc0,0xc0,0xc0,0xc0,0xc0,
   0xff,0xff,0x03,0x03,0x03,0x03,0x03,0x03,0x00,0x3c,0x7e,0x7e,0x7e,0x7e,0x3c,0x00,
   0x00,0x00,0x00,0x00,0x00,0xff,0xff,0x00,0x36,0x7f,0x7f,0x7f,0x3e,0x1c,0x08,0x00,
   0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x00,0x00,0x00,0x07,0x0f,0x1c,0x18,0x18,
   0xc3,0xe7,0x7e,0x3c,0x3c,0x7e,0xe7,0xc3,0x00,0x3c,0x7e,0x66,0x66,0x7e,0x3c,0x00,
   0x18,0x18,0x66,0x66,0x18,0x18,0x3c,0x00,0x06,0x06,0x06,0x06,0x06,0x06,0x06,0x06,
   0x08,0x1c,0x3e,0x7f,0x3e,0x1c,0x08,0x00,0x18,0x18,0x18,0xff,0xff,0x18,0x18,0x18,
   0xc0,0xc0,0x30,0x30,0xc0,0xc0,0x30,0x30,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,
   0x00,0x00,0x03,0x3e,0x76,0x36,0x36,0x00,0xff,0x7f,0x3f,0x1f,0x0f,0x07,0x03,0x01,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,
   0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xc0,0xc0,0xc0,0xc0,0xc0,0xc0,0xc0,0xc0,
   0xcc,0xcc,0x33,0x33,0xcc,0xcc,0x33,0x33,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,
   0x00,0x00,0x00,0x00,0xcc,0xcc,0x33,0x33,0xff,0xfe,0xfc,0xf8,0xf0,0xe0,0xc0,0x80,
   0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x18,0x18,0x18,0x1f,0x1f,0x18,0x18,0x18,
   0x00,0x00,0x00,0x00,0x0f,0x0f,0x0f,0x0f,0x18,0x18,0x18,0x1f,0x1f,0x00,0x00,0x00,
   0x00,0x00,0x00,0xf8,0xf8,0x18,0x18,0x18,0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,
   0x00,0x00,0x00,0x1f,0x1f,0x18,0x18,0x18,0x18,0x18,0x18,0xff,0xff,0x00,0x00,0x00,
   0x00,0x00,0x00,0xff,0xff,0x18,0x18,0x18,0x18,0x18,0x18,0xf8,0xf8,0x18,0x18,0x18,
   0xc0,0xc0,0xc0,0xc0,0xc0,0xc0,0xc0,0xc0,0xe0,0xe0,0xe0,0xe0,0xe0,0xe0,0xe0,0xe0,
   0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,
   0x03,0x03,0x03,0x03,0x03,0x03,0xff,0xff,0x00,0x00,0x00,0x00,0xf0,0xf0,0xf0,0xf0,
   0x0f,0x0f,0x0f,0x0f,0x00,0x00,0x00,0x00,0x18,0x18,0x18,0xf8,0xf8,0x00,0x00,0x00,
   0xf0,0xf0,0xf0,0xf0,0x00,0x00,0x00,0x00,0xf0,0xf0,0xf0,0xf0,0x0f,0x0f,0x0f,0x0f,
   0xc3,0x99,0x91,0x91,0x9f,0x99,0xc3,0xff,0xe7,0xc3,0x99,0x81,0x99,0x99,0x99,0xff,
   0x83,0x99,0x99,0x83,0x99,0x99,0x83,0xff,0xc3,0x99,0x9f,0x9f,0x9f,0x99,0xc3,0xff,
   0x87,0x93,0x99,0x99,0x99,0x93,0x87,0xff,0x81,0x9f,0x9f,0x87,0x9f,0x9f,0x81,0xff,
   0x81,0x9f,0x9f,0x87,0x9f,0x9f,0x9f,0xff,0xc3,0x99,0x9f,0x91,0x99,0x99,0xc3,0xff,
   0x99,0x99,0x99,0x81,0x99,0x99,0x99,0xff,0xc3,0xe7,0xe7,0xe7,0xe7,0xe7,0xc3,0xff,
   0xe1,0xf3,0xf3,0xf3,0xf3,0x93,0xc7,0xff,0x99,0x93,0x87,0x8f,0x87,0x93,0x99,0xff,
   0x9f,0x9f,0x9f,0x9f,0x9f,0x9f,0x81,0xff,0x9c,0x88,0x80,0x94,0x9c,0x9c,0x9c,0xff,
   0x99,0x89,0x81,0x81,0x91,0x99,0x99,0xff,0xc3,0x99,0x99,0x99,0x99,0x99,0xc3,0xff,
   0x83,0x99,0x99,0x83,0x9f,0x9f,0x9f,0xff,0xc3,0x99,0x99,0x99,0x99,0xc3,0xf1,0xff,
   0x83,0x99,0x99,0x83,0x87,0x93,0x99,0xff,0xc3,0x99,0x9f,0xc3,0xf9,0x99,0xc3,0xff,
   0x81,0xe7,0xe7,0xe7,0xe7,0xe7,0xe7,0xff,0x99,0x99,0x99,0x99,0x99,0x99,0xc3,0xff,
   0x99,0x99,0x99,0x99,0x99,0xc3,0xe7,0xff,0x9c,0x9c,0x9c,0x94,0x80,0x88,0x9c,0xff,
   0x99,0x99,0xc3,0xe7,0xc3,0x99,0x99,0xff,0x99,0x99,0x99,0xc3,0xe7,0xe7,0xe7,0xff,
   0x81,0xf9,0xf3,0xe7,0xcf,0x9f,0x81,0xff,0xc3,0xcf,0xcf,0xcf,0xcf,0xcf,0xc3,0xff,
   0xf3,0xed,0xcf,0x83,0xcf,0x9d,0x03,0xff,0xc3,0xf3,0xf3,0xf3,0xf3,0xf3,0xc3,0xff,
   0xff,0xe7,0xc3,0x81,0xe7,0xe7,0xe7,0xe7,0xff,0xef,0xcf,0x80,0x80,0xcf,0xef,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xe7,0xe7,0xe7,0xe7,0xff,0xff,0xe7,0xff,
   0x99,0x99,0x99,0xff,0xff,0xff,0xff,0xff,0x99,0x99,0x00,0x99,0x00,0x99,0x99,0xff,
   0xe7,0xc1,0x9f,0xc3,0xf9,0x83,0xe7,0xff,0x9d,0x99,0xf3,0xe7,0xcf,0x99,0xb9,0xff,
   0xc3,0x99,0xc3,0xc7,0x98,0x99,0xc0,0xff,0xf9,0xf3,0xe7,0xff,0xff,0xff,0xff,0xff,
   0xf3,0xe7,0xcf,0xcf,0xcf,0xe7,0xf3,0xff,0xcf,0xe7,0xf3,0xf3,0xf3,0xe7,0xcf,0xff,
   0xff,0x99,0xc3,0x00,0xc3,0x99,0xff,0xff,0xff,0xe7,0xe7,0x81,0xe7,0xe7,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xe7,0xe7,0xcf,0xff,0xff,0xff,0x81,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xe7,0xe7,0xff,0xff,0xfc,0xf9,0xf3,0xe7,0xcf,0x9f,0xff,
   0xc3,0x99,0x91,0x89,0x99,0x99,0xc3,0xff,0xe7,0xe7,0xc7,0xe7,0xe7,0xe7,0x81,0xff,
   0xc3,0x99,0xf9,0xf3,0xcf,0x9f,0x81,0xff,0xc3,0x99,0xf9,0xe3,0xf9,0x99,0xc3,0xff,
   0xf9,0xf1,0xe1,0x99,0x80,0xf9,0xf9,0xff,0x81,0x9f,0x83,0xf9,0xf9,0x99,0xc3,0xff,
   0xc3,0x99,0x9f,0x83,0x99,0x99,0xc3,0xff,0x81,0x99,0xf3,0xe7,0xe7,0xe7,0xe7,0xff,
   0xc3,0x99,0x99,0xc3,0x99,0x99,0xc3,0xff,0xc3,0x99,0x99,0xc1,0xf9,0x99,0xc3,0xff,
   0xff,0xff,0xe7,0xff,0xff,0xe7,0xff,0xff,0xff,0xff,0xe7,0xff,0xff,0xe7,0xe7,0xcf,
   0xf1,0xe7,0xcf,0x9f,0xcf,0xe7,0xf1,0xff,0xff,0xff,0x81,0xff,0x81,0xff,0xff,0xff,
   0x8f,0xe7,0xf3,0xf9,0xf3,0xe7,0x8f,0xff,0xc3,0x99,0xf9,0xf3,0xe7,0xff,0xe7,0xff,
   0xff,0xff,0xff,0x00,0x00,0xff,0xff,0xff,0xf7,0xe3,0xc1,0x80,0x80,0xe3,0xc1,0xff,
   0xe7,0xe7,0xe7,0xe7,0xe7,0xe7,0xe7,0xe7,0xff,0xff,0xff,0x00,0x00,0xff,0xff,0xff,
   0xff,0xff,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0x00,0x00,0xff,0xff,0xcf,0xcf,0xcf,0xcf,0xcf,0xcf,0xcf,0xcf,
   0xf3,0xf3,0xf3,0xf3,0xf3,0xf3,0xf3,0xf3,0xff,0xff,0xff,0x1f,0x0f,0xc7,0xe7,0xe7,
   0xe7,0xe7,0xe3,0xf0,0xf8,0xff,0xff,0xff,0xe7,0xe7,0xc7,0x0f,0x1f,0xff,0xff,0xff,
   0x3f,0x3f,0x3f,0x3f,0x3f,0x3f,0x00,0x00,0x3f,0x1f,0x8f,0xc7,0xe3,0xf1,0xf8,0xfc,
   0xfc,0xf8,0xf1,0xe3,0xc7,0x8f,0x1f,0x3f,0x00,0x00,0x3f,0x3f,0x3f,0x3f,0x3f,0x3f,
   0x00,0x00,0xfc,0xfc,0xfc,0xfc,0xfc,0xfc,0xff,0xc3,0x81,0x81,0x81,0x81,0xc3,0xff,
   0xff,0xff,0xff,0xff,0xff,0x00,0x00,0xff,0xc9,0x80,0x80,0x80,0xc1,0xe3,0xf7,0xff,
   0x9f,0x9f,0x9f,0x9f,0x9f,0x9f,0x9f,0x9f,0xff,0xff,0xff,0xf8,0xf0,0xe3,0xe7,0xe7,
   0x3c,0x18,0x81,0xc3,0xc3,0x81,0x18,0x3c,0xff,0xc3,0x81,0x99,0x99,0x81,0xc3,0xff,
   0xe7,0xe7,0x99,0x99,0xe7,0xe7,0xc3,0xff,0xf9,0xf9,0xf9,0xf9,0xf9,0xf9,0xf9,0xf9,
   0xf7,0xe3,0xc1,0x80,0xc1,0xe3,0xf7,0xff,0xe7,0xe7,0xe7,0x00,0x00,0xe7,0xe7,0xe7,
   0x3f,0x3f,0xcf,0xcf,0x3f,0x3f,0xcf,0xcf,0xe7,0xe7,0xe7,0xe7,0xe7,0xe7,0xe7,0xe7,
   0xff,0xff,0xfc,0xc1,0x89,0xc9,0xc9,0xff,0x00,0x80,0xc0,0xe0,0xf0,0xf8,0xfc,0xfe,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x0f,0x0f,0x0f,0x0f,0x0f,0x0f,0x0f,0x0f,
   0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x3f,0x3f,0x3f,0x3f,0x3f,0x3f,0x3f,0x3f,
   0x33,0x33,0xcc,0xcc,0x33,0x33,0xcc,0xcc,0xfc,0xfc,0xfc,0xfc,0xfc,0xfc,0xfc,0xfc,
   0xff,0xff,0xff,0xff,0x33,0x33,0xcc,0xcc,0x00,0x01,0x03,0x07,0x0f,0x1f,0x3f,0x7f,
   0xfc,0xfc,0xfc,0xfc,0xfc,0xfc,0xfc,0xfc,0xe7,0xe7,0xe7,0xe0,0xe0,0xe7,0xe7,0xe7,
   0xff,0xff,0xff,0xff,0xf0,0xf0,0xf0,0xf0,0xe7,0xe7,0xe7,0xe0,0xe0,0xff,0xff,0xff,
   0xff,0xff,0xff,0x07,0x07,0xe7,0xe7,0xe7,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,
   0xff,0xff,0xff,0xe0,0xe0,0xe7,0xe7,0xe7,0xe7,0xe7,0xe7,0x00,0x00,0xff,0xff,0xff,
   0xff,0xff,0xff,0x00,0x00,0xe7,0xe7,0xe7,0xe7,0xe7,0xe7,0x07,0x07,0xe7,0xe7,0xe7,
   0x3f,0x3f,0x3f,0x3f,0x3f,0x3f,0x3f,0x3f,0x1f,0x1f,0x1f,0x1f,0x1f,0x1f,0x1f,0x1f,
   0xf8,0xf8,0xf8,0xf8,0xf8,0xf8,0xf8,0xf8,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,
   0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,
   0xfc,0xfc,0xfc,0xfc,0xfc,0xfc,0x00,0x00,0xff,0xff,0xff,0xff,0x0f,0x0f,0x0f,0x0f,
   0xf0,0xf0,0xf0,0xf0,0xff,0xff,0xff,0xff,0xe7,0xe7,0xe7,0x07,0x07,0xff,0xff,0xff,
   0x0f,0x0f,0x0f,0x0f,0xff,0xff,0xff,0xff,0x0f,0x0f,0x0f,0x0f,0xf0,0xf0,0xf0,0xf0,
   */
   0x3c,0x66,0x6e,0x6e,0x60,0x62,0x3c,0x00,0x00,0x00,0x3c,0x06,0x3e,0x66,0x3e,0x00,
   0x00,0x60,0x60,0x7c,0x66,0x66,0x7c,0x00,0x00,0x00,0x3c,0x60,0x60,0x60,0x3c,0x00,
   0x00,0x06,0x06,0x3e,0x66,0x66,0x3e,0x00,0x00,0x00,0x3c,0x66,0x7e,0x60,0x3c,0x00,
   0x00,0x0e,0x18,0x3e,0x18,0x18,0x18,0x00,0x00,0x00,0x3e,0x66,0x66,0x3e,0x06,0x7c,
   0x00,0x60,0x60,0x7c,0x66,0x66,0x66,0x00,0x00,0x18,0x00,0x38,0x18,0x18,0x3c,0x00,
   0x00,0x06,0x00,0x06,0x06,0x06,0x06,0x3c,0x00,0x60,0x60,0x6c,0x78,0x6c,0x66,0x00,
   0x00,0x38,0x18,0x18,0x18,0x18,0x3c,0x00,0x00,0x00,0x66,0x7f,0x7f,0x6b,0x63,0x00,
   0x00,0x00,0x7c,0x66,0x66,0x66,0x66,0x00,0x00,0x00,0x3c,0x66,0x66,0x66,0x3c,0x00,
   0x00,0x00,0x7c,0x66,0x66,0x7c,0x60,0x60,0x00,0x00,0x3e,0x66,0x66,0x3e,0x06,0x06,
   0x00,0x00,0x7c,0x66,0x60,0x60,0x60,0x00,0x00,0x00,0x3e,0x60,0x3c,0x06,0x7c,0x00,
   0x00,0x18,0x7e,0x18,0x18,0x18,0x0e,0x00,0x00,0x00,0x66,0x66,0x66,0x66,0x3e,0x00,
   0x00,0x00,0x66,0x66,0x66,0x3c,0x18,0x00,0x00,0x00,0x63,0x6b,0x7f,0x3e,0x36,0x00,
   0x00,0x00,0x66,0x3c,0x18,0x3c,0x66,0x00,0x00,0x00,0x66,0x66,0x66,0x3e,0x0c,0x78,
   0x00,0x00,0x7e,0x0c,0x18,0x30,0x7e,0x00,0x3c,0x30,0x30,0x30,0x30,0x30,0x3c,0x00,
   0x0c,0x12,0x30,0x7c,0x30,0x62,0xfc,0x00,0x3c,0x0c,0x0c,0x0c,0x0c,0x0c,0x3c,0x00,
   0x00,0x18,0x3c,0x7e,0x18,0x18,0x18,0x18,0x00,0x10,0x30,0x7f,0x7f,0x30,0x10,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x18,0x18,0x18,0x18,0x00,0x00,0x18,0x00,
   0x66,0x66,0x66,0x00,0x00,0x00,0x00,0x00,0x66,0x66,0xff,0x66,0xff,0x66,0x66,0x00,
   0x18,0x3e,0x60,0x3c,0x06,0x7c,0x18,0x00,0x62,0x66,0x0c,0x18,0x30,0x66,0x46,0x00,
   0x3c,0x66,0x3c,0x38,0x67,0x66,0x3f,0x00,0x06,0x0c,0x18,0x00,0x00,0x00,0x00,0x00,
   0x0c,0x18,0x30,0x30,0x30,0x18,0x0c,0x00,0x30,0x18,0x0c,0x0c,0x0c,0x18,0x30,0x00,
   0x00,0x66,0x3c,0xff,0x3c,0x66,0x00,0x00,0x00,0x18,0x18,0x7e,0x18,0x18,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x18,0x18,0x30,0x00,0x00,0x00,0x7e,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x18,0x18,0x00,0x00,0x03,0x06,0x0c,0x18,0x30,0x60,0x00,
   0x3c,0x66,0x6e,0x76,0x66,0x66,0x3c,0x00,0x18,0x18,0x38,0x18,0x18,0x18,0x7e,0x00,
   0x3c,0x66,0x06,0x0c,0x30,0x60,0x7e,0x00,0x3c,0x66,0x06,0x1c,0x06,0x66,0x3c,0x00,
   0x06,0x0e,0x1e,0x66,0x7f,0x06,0x06,0x00,0x7e,0x60,0x7c,0x06,0x06,0x66,0x3c,0x00,
   0x3c,0x66,0x60,0x7c,0x66,0x66,0x3c,0x00,0x7e,0x66,0x0c,0x18,0x18,0x18,0x18,0x00,
   0x3c,0x66,0x66,0x3c,0x66,0x66,0x3c,0x00,0x3c,0x66,0x66,0x3e,0x06,0x66,0x3c,0x00,
   0x00,0x00,0x18,0x00,0x00,0x18,0x00,0x00,0x00,0x00,0x18,0x00,0x00,0x18,0x18,0x30,
   0x0e,0x18,0x30,0x60,0x30,0x18,0x0e,0x00,0x00,0x00,0x7e,0x00,0x7e,0x00,0x00,0x00,
   0x70,0x18,0x0c,0x06,0x0c,0x18,0x70,0x00,0x3c,0x66,0x06,0x0c,0x18,0x00,0x18,0x00,
   0x00,0x00,0x00,0xff,0xff,0x00,0x00,0x00,0x18,0x3c,0x66,0x7e,0x66,0x66,0x66,0x00,
   0x7c,0x66,0x66,0x7c,0x66,0x66,0x7c,0x00,0x3c,0x66,0x60,0x60,0x60,0x66,0x3c,0x00,
   0x78,0x6c,0x66,0x66,0x66,0x6c,0x78,0x00,0x7e,0x60,0x60,0x78,0x60,0x60,0x7e,0x00,
   0x7e,0x60,0x60,0x78,0x60,0x60,0x60,0x00,0x3c,0x66,0x60,0x6e,0x66,0x66,0x3c,0x00,
   0x66,0x66,0x66,0x7e,0x66,0x66,0x66,0x00,0x3c,0x18,0x18,0x18,0x18,0x18,0x3c,0x00,
   0x1e,0x0c,0x0c,0x0c,0x0c,0x6c,0x38,0x00,0x66,0x6c,0x78,0x70,0x78,0x6c,0x66,0x00,
   0x60,0x60,0x60,0x60,0x60,0x60,0x7e,0x00,0x63,0x77,0x7f,0x6b,0x63,0x63,0x63,0x00,
   0x66,0x76,0x7e,0x7e,0x6e,0x66,0x66,0x00,0x3c,0x66,0x66,0x66,0x66,0x66,0x3c,0x00,
   0x7c,0x66,0x66,0x7c,0x60,0x60,0x60,0x00,0x3c,0x66,0x66,0x66,0x66,0x3c,0x0e,0x00,
   0x7c,0x66,0x66,0x7c,0x78,0x6c,0x66,0x00,0x3c,0x66,0x60,0x3c,0x06,0x66,0x3c,0x00,
   0x7e,0x18,0x18,0x18,0x18,0x18,0x18,0x00,0x66,0x66,0x66,0x66,0x66,0x66,0x3c,0x00,
   0x66,0x66,0x66,0x66,0x66,0x3c,0x18,0x00,0x63,0x63,0x63,0x6b,0x7f,0x77,0x63,0x00,
   0x66,0x66,0x3c,0x18,0x3c,0x66,0x66,0x00,0x66,0x66,0x66,0x3c,0x18,0x18,0x18,0x00,
   0x7e,0x06,0x0c,0x18,0x30,0x60,0x7e,0x00,0x18,0x18,0x18,0xff,0xff,0x18,0x18,0x18,
   0xc0,0xc0,0x30,0x30,0xc0,0xc0,0x30,0x30,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,
   0x33,0x33,0xcc,0xcc,0x33,0x33,0xcc,0xcc,0x33,0x99,0xcc,0x66,0x33,0x99,0xcc,0x66,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,
   0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xc0,0xc0,0xc0,0xc0,0xc0,0xc0,0xc0,0xc0,
   0xcc,0xcc,0x33,0x33,0xcc,0xcc,0x33,0x33,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,
   0x00,0x00,0x00,0x00,0xcc,0xcc,0x33,0x33,0xcc,0x99,0x33,0x66,0xcc,0x99,0x33,0x66,
   0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x18,0x18,0x18,0x1f,0x1f,0x18,0x18,0x18,
   0x00,0x00,0x00,0x00,0x0f,0x0f,0x0f,0x0f,0x18,0x18,0x18,0x1f,0x1f,0x00,0x00,0x00,
   0x00,0x00,0x00,0xf8,0xf8,0x18,0x18,0x18,0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,
   0x00,0x00,0x00,0x1f,0x1f,0x18,0x18,0x18,0x18,0x18,0x18,0xff,0xff,0x00,0x00,0x00,
   0x00,0x00,0x00,0xff,0xff,0x18,0x18,0x18,0x18,0x18,0x18,0xf8,0xf8,0x18,0x18,0x18,
   0xc0,0xc0,0xc0,0xc0,0xc0,0xc0,0xc0,0xc0,0xe0,0xe0,0xe0,0xe0,0xe0,0xe0,0xe0,0xe0,
   0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
   0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,
   0x01,0x03,0x06,0x6c,0x78,0x70,0x60,0x00,0x00,0x00,0x00,0x00,0xf0,0xf0,0xf0,0xf0,
   0x0f,0x0f,0x0f,0x0f,0x00,0x00,0x00,0x00,0x18,0x18,0x18,0xf8,0xf8,0x00,0x00,0x00,
   0xf0,0xf0,0xf0,0xf0,0x00,0x00,0x00,0x00,0xf0,0xf0,0xf0,0xf0,0x0f,0x0f,0x0f,0x0f,
   0xc3,0x99,0x91,0x91,0x9f,0x99,0xc3,0xff,0xff,0xff,0xc3,0xf9,0xc1,0x99,0xc1,0xff,
   0xff,0x9f,0x9f,0x83,0x99,0x99,0x83,0xff,0xff,0xff,0xc3,0x9f,0x9f,0x9f,0xc3,0xff,
   0xff,0xf9,0xf9,0xc1,0x99,0x99,0xc1,0xff,0xff,0xff,0xc3,0x99,0x81,0x9f,0xc3,0xff,
   0xff,0xf1,0xe7,0xc1,0xe7,0xe7,0xe7,0xff,0xff,0xff,0xc1,0x99,0x99,0xc1,0xf9,0x83,
   0xff,0x9f,0x9f,0x83,0x99,0x99,0x99,0xff,0xff,0xe7,0xff,0xc7,0xe7,0xe7,0xc3,0xff,
   0xff,0xf9,0xff,0xf9,0xf9,0xf9,0xf9,0xc3,0xff,0x9f,0x9f,0x93,0x87,0x93,0x99,0xff,
   0xff,0xc7,0xe7,0xe7,0xe7,0xe7,0xc3,0xff,0xff,0xff,0x99,0x80,0x80,0x94,0x9c,0xff,
   0xff,0xff,0x83,0x99,0x99,0x99,0x99,0xff,0xff,0xff,0xc3,0x99,0x99,0x99,0xc3,0xff,
   0xff,0xff,0x83,0x99,0x99,0x83,0x9f,0x9f,0xff,0xff,0xc1,0x99,0x99,0xc1,0xf9,0xf9,
   0xff,0xff,0x83,0x99,0x9f,0x9f,0x9f,0xff,0xff,0xff,0xc1,0x9f,0xc3,0xf9,0x83,0xff,
   0xff,0xe7,0x81,0xe7,0xe7,0xe7,0xf1,0xff,0xff,0xff,0x99,0x99,0x99,0x99,0xc1,0xff,
   0xff,0xff,0x99,0x99,0x99,0xc3,0xe7,0xff,0xff,0xff,0x9c,0x94,0x80,0xc1,0xc9,0xff,
   0xff,0xff,0x99,0xc3,0xe7,0xc3,0x99,0xff,0xff,0xff,0x99,0x99,0x99,0xc1,0xf3,0x87,
   0xff,0xff,0x81,0xf3,0xe7,0xcf,0x81,0xff,0xc3,0xcf,0xcf,0xcf,0xcf,0xcf,0xc3,0xff,
   0xf3,0xed,0xcf,0x83,0xcf,0x9d,0x03,0xff,0xc3,0xf3,0xf3,0xf3,0xf3,0xf3,0xc3,0xff,
   0xff,0xe7,0xc3,0x81,0xe7,0xe7,0xe7,0xe7,0xff,0xef,0xcf,0x80,0x80,0xcf,0xef,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xe7,0xe7,0xe7,0xe7,0xff,0xff,0xe7,0xff,
   0x99,0x99,0x99,0xff,0xff,0xff,0xff,0xff,0x99,0x99,0x00,0x99,0x00,0x99,0x99,0xff,
   0xe7,0xc1,0x9f,0xc3,0xf9,0x83,0xe7,0xff,0x9d,0x99,0xf3,0xe7,0xcf,0x99,0xb9,0xff,
   0xc3,0x99,0xc3,0xc7,0x98,0x99,0xc0,0xff,0xf9,0xf3,0xe7,0xff,0xff,0xff,0xff,0xff,
   0xf3,0xe7,0xcf,0xcf,0xcf,0xe7,0xf3,0xff,0xcf,0xe7,0xf3,0xf3,0xf3,0xe7,0xcf,0xff,
   0xff,0x99,0xc3,0x00,0xc3,0x99,0xff,0xff,0xff,0xe7,0xe7,0x81,0xe7,0xe7,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xe7,0xe7,0xcf,0xff,0xff,0xff,0x81,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xe7,0xe7,0xff,0xff,0xfc,0xf9,0xf3,0xe7,0xcf,0x9f,0xff,
   0xc3,0x99,0x91,0x89,0x99,0x99,0xc3,0xff,0xe7,0xe7,0xc7,0xe7,0xe7,0xe7,0x81,0xff,
   0xc3,0x99,0xf9,0xf3,0xcf,0x9f,0x81,0xff,0xc3,0x99,0xf9,0xe3,0xf9,0x99,0xc3,0xff,
   0xf9,0xf1,0xe1,0x99,0x80,0xf9,0xf9,0xff,0x81,0x9f,0x83,0xf9,0xf9,0x99,0xc3,0xff,
   0xc3,0x99,0x9f,0x83,0x99,0x99,0xc3,0xff,0x81,0x99,0xf3,0xe7,0xe7,0xe7,0xe7,0xff,
   0xc3,0x99,0x99,0xc3,0x99,0x99,0xc3,0xff,0xc3,0x99,0x99,0xc1,0xf9,0x99,0xc3,0xff,
   0xff,0xff,0xe7,0xff,0xff,0xe7,0xff,0xff,0xff,0xff,0xe7,0xff,0xff,0xe7,0xe7,0xcf,
   0xf1,0xe7,0xcf,0x9f,0xcf,0xe7,0xf1,0xff,0xff,0xff,0x81,0xff,0x81,0xff,0xff,0xff,
   0x8f,0xe7,0xf3,0xf9,0xf3,0xe7,0x8f,0xff,0xc3,0x99,0xf9,0xf3,0xe7,0xff,0xe7,0xff,
   0xff,0xff,0xff,0x00,0x00,0xff,0xff,0xff,0xe7,0xc3,0x99,0x81,0x99,0x99,0x99,0xff,
   0x83,0x99,0x99,0x83,0x99,0x99,0x83,0xff,0xc3,0x99,0x9f,0x9f,0x9f,0x99,0xc3,0xff,
   0x87,0x93,0x99,0x99,0x99,0x93,0x87,0xff,0x81,0x9f,0x9f,0x87,0x9f,0x9f,0x81,0xff,
   0x81,0x9f,0x9f,0x87,0x9f,0x9f,0x9f,0xff,0xc3,0x99,0x9f,0x91,0x99,0x99,0xc3,0xff,
   0x99,0x99,0x99,0x81,0x99,0x99,0x99,0xff,0xc3,0xe7,0xe7,0xe7,0xe7,0xe7,0xc3,0xff,
   0xe1,0xf3,0xf3,0xf3,0xf3,0x93,0xc7,0xff,0x99,0x93,0x87,0x8f,0x87,0x93,0x99,0xff,
   0x9f,0x9f,0x9f,0x9f,0x9f,0x9f,0x81,0xff,0x9c,0x88,0x80,0x94,0x9c,0x9c,0x9c,0xff,
   0x99,0x89,0x81,0x81,0x91,0x99,0x99,0xff,0xc3,0x99,0x99,0x99,0x99,0x99,0xc3,0xff,
   0x83,0x99,0x99,0x83,0x9f,0x9f,0x9f,0xff,0xc3,0x99,0x99,0x99,0x99,0xc3,0xf1,0xff,
   0x83,0x99,0x99,0x83,0x87,0x93,0x99,0xff,0xc3,0x99,0x9f,0xc3,0xf9,0x99,0xc3,0xff,
   0x81,0xe7,0xe7,0xe7,0xe7,0xe7,0xe7,0xff,0x99,0x99,0x99,0x99,0x99,0x99,0xc3,0xff,
   0x99,0x99,0x99,0x99,0x99,0xc3,0xe7,0xff,0x9c,0x9c,0x9c,0x94,0x80,0x88,0x9c,0xff,
   0x99,0x99,0xc3,0xe7,0xc3,0x99,0x99,0xff,0x99,0x99,0x99,0xc3,0xe7,0xe7,0xe7,0xff,
   0x81,0xf9,0xf3,0xe7,0xcf,0x9f,0x81,0xff,0xe7,0xe7,0xe7,0x00,0x00,0xe7,0xe7,0xe7,
   0x3f,0x3f,0xcf,0xcf,0x3f,0x3f,0xcf,0xcf,0xe7,0xe7,0xe7,0xe7,0xe7,0xe7,0xe7,0xe7,
   0xcc,0xcc,0x33,0x33,0xcc,0xcc,0x33,0x33,0xcc,0x66,0x33,0x99,0xcc,0x66,0x33,0x99,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x0f,0x0f,0x0f,0x0f,0x0f,0x0f,0x0f,0x0f,
   0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
   0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x3f,0x3f,0x3f,0x3f,0x3f,0x3f,0x3f,0x3f,
   0x33,0x33,0xcc,0xcc,0x33,0x33,0xcc,0xcc,0xfc,0xfc,0xfc,0xfc,0xfc,0xfc,0xfc,0xfc,
   0xff,0xff,0xff,0xff,0x33,0x33,0xcc,0xcc,0x33,0x66,0xcc,0x99,0x33,0x66,0xcc,0x99,
   0xfc,0xfc,0xfc,0xfc,0xfc,0xfc,0xfc,0xfc,0xe7,0xe7,0xe7,0xe0,0xe0,0xe7,0xe7,0xe7,
   0xff,0xff,0xff,0xff,0xf0,0xf0,0xf0,0xf0,0xe7,0xe7,0xe7,0xe0,0xe0,0xff,0xff,0xff,
   0xff,0xff,0xff,0x07,0x07,0xe7,0xe7,0xe7,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,
   0xff,0xff,0xff,0xe0,0xe0,0xe7,0xe7,0xe7,0xe7,0xe7,0xe7,0x00,0x00,0xff,0xff,0xff,
   0xff,0xff,0xff,0x00,0x00,0xe7,0xe7,0xe7,0xe7,0xe7,0xe7,0x07,0x07,0xe7,0xe7,0xe7,
   0x3f,0x3f,0x3f,0x3f,0x3f,0x3f,0x3f,0x3f,0x1f,0x1f,0x1f,0x1f,0x1f,0x1f,0x1f,0x1f,
   0xf8,0xf8,0xf8,0xf8,0xf8,0xf8,0xf8,0xf8,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,
   0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,
   0xfe,0xfc,0xf9,0x93,0x87,0x8f,0x9f,0xff,0xff,0xff,0xff,0xff,0x0f,0x0f,0x0f,0x0f,
   0xf0,0xf0,0xf0,0xf0,0xff,0xff,0xff,0xff,0xe7,0xe7,0xe7,0x07,0x07,0xff,0xff,0xff,
   0x0f,0x0f,0x0f,0x0f,0xff,0xff,0xff,0xff,0x0f,0x0f,0x0f,0x0f,0xf0,0xf0,0xf0,0xf0

};

// converts ascii to C64 screen code in order to point in the charset ROM
unsigned char asc2pet[128] = {
   0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,
   0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,
   0x20,0x21,0x22,0x23,0x24,0x25,0x26,0x27,0x28,0x29,0x2a,0x2b,0x2c,0x2d,0x2e,0x2f,
   0x30,0x31,0x32,0x33,0x34,0x35,0x36,0x37,0x38,0x39,0x3a,0x3b,0x3c,0x3d,0x3e,0x3f,
   0x00,0x41,0x42,0x43,0x44,0x45,0x46,0x47,0x48,0x49,0x4a,0x4b,0x4c,0x4d,0x4e,0x4f,
   0x50,0x51,0x52,0x53,0x54,0x55,0x56,0x57,0x58,0x59,0x5a,0x1b,0x1c,0x1d,0x1e,0x1f,
   0x40,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0a,0x0b,0x0c,0x0d,0x0e,0x0f,
   0x10,0x11,0x12,0x13,0x14,0x15,0x16,0x17,0x18,0x19,0x1a,0xdb,0x5c,0x5d,0x5e,0x5f,
};

char get_key(void) {
    char ch;
    while (!(ch=getk()));
    return ch;
}

void vti_c64char(unsigned int x,unsigned int y, unsigned char c) {
   static unsigned int xx;
   static unsigned int yy;
   static unsigned char *pos;
   static unsigned char b;
   static unsigned char bmp;

   pos = &c64fonts[c*8];
   for(yy=0;yy<8;yy++) {
      bmp = *pos++;
      for(xx=0,b=128;xx<8;xx++,b/=2) {
         if(bmp & b) vti_plot(xx+x,yy+y);
      }
   }
}

void vti_c64text(unsigned int x, unsigned int y, char *msg) {
	while(*msg) {
      vti_c64char(x, y, asc2pet[*msg]);
      x+=8;
      msg++;
	}
}

void main(int argc, char *argv[]) {
   unsigned int base_address;
   static unsigned char *addr;

   // use a numeric argument to set the video memory start address
   if (argc >= 2) {
      base_address = (unsigned int) atoi(argv[1]);
      if(base_address == 0) base_address = 0xe800;
      vti_set_start(base_address);
   }

   vti_clear_screen();

   // screen is 16x6:      1234567890123456
   vti_c64text(0,8*0     ,"** IMSAI 8080 **");
   vti_c64text(0,8*2     ," Hello World !!!");
   vti_c64text(0,8*4 -7  ,"    - from -    ");
   vti_c64text(0,8*5 -2  ,"   RETROCAMPUS  ");

   vti_setmode(VTI_MODE_INVERT);
   vti_boxfill(19,37,115,45);

   get_key();
}
